# ---------------------------------------------------------------
# Environment variable overrides
# ---------------------------------------------------------------
# Any config value can be overridden via env vars with the
# REDIRECTOR__ prefix and __ as the nesting separator:
#
#   REDIRECTOR__SERVER__PORT=3000
#   REDIRECTOR__DATABASE__URL=postgres://user:pass@host/db
#   REDIRECTOR__REDIS__URL=redis://host:6379
#   REDIRECTOR__REDIS__CACHE_TTL_SECONDS=3600
#   REDIRECTOR__METRICS__BASIC_AUTH__USERNAME=admin
#   REDIRECTOR__RATE_LIMIT__REQUESTS_PER_SECOND=500
#
# Standard PaaS variables are also supported (lower priority
# than REDIRECTOR__* if both are set):
#
#   DATABASE_URL=postgres://user:pass@host/db
#   REDIS_URL=redis://host:6379
#   PORT=3000
# ---------------------------------------------------------------

server:
  host: "0.0.0.0"
  port: 8080

hashids:
  salts:
    - "your_current_salt_here"
    - "your_old_salt_here"
  min_length: 6

redis:
  url: "redis://localhost:6379"
  cache_ttl_seconds: 86400  # 24 hours

database:
  url: "postgres://user:password@localhost:5432/database"
  pool:
    max_connections: 3
    connect_timeout_seconds: 3
  rate_limit:
    max_requests_per_second: 50
  circuit_breaker:
    failure_threshold: 3
    reset_timeout_seconds: 60

interstitial:
  delay_seconds: 5

metrics:
  basic_auth:
    username: "prometheus"
    password: "change_me_in_production"

rate_limit:
  requests_per_second: 1000
  burst: 100
